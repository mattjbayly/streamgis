% Generated by roxygen2: do not edit by hand
% Please edit documentation in R/extract_stream_path.R
\name{extract_stream_path}
\alias{extract_stream_path}
\title{Extract Path Between Two Points on Stream Network}
\usage{
extract_stream_path(streamlines, point_1, point_2)
}
\arguments{
\item{streamlines}{An \code{sf} LINESTRING/MULTILINESTRING object representing the stream network.}

\item{point_1}{An \code{sf} POINT object (single feature).}

\item{point_2}{An \code{sf} POINT object (single feature).}
}
\value{
An \code{sf} LINESTRING object containing the stream segments forming the shortest path
between the two snapped points. Attributes from the original \code{streamlines} are preserved.
}
\description{
Snaps two spatial points to the nearest streamline, finds the shortest path
between them on the stream network using \code{sfnetworks}, clips the streamline layer at the
point intersections, and extracts the line segments between the two points.
}
\details{
This function performs the following steps:
\enumerate{
\item Snaps \code{point_1} and \code{point_2} to the nearest streamlines
\item Splits streamlines at the snapped point locations
\item Creates a network from the split streamlines using \code{sfnetworks}
\item Finds the shortest path between the snapped points on the network
\item Extracts and returns the line segments forming the shortest path
}

The function preserves original attributes from the \code{streamlines} attribute table
for all segments in the returned path.
}
\examples{
\dontrun{
fname <- system.file("extdata", "/clip_points/clip_points.gpkg", package = "streamgis")
clip_points <- sf::st_read(fname)
fname <- system.file("extdata", "/clip_points/clip_lines.gpkg", package = "streamgis")
clip_lines <- sf::st_read(fname)

clip_pts_target <- clip_points[clip_points$NAME == "PEP8", ]
point_1 <- clip_pts_target[1, ]
point_2 <- clip_pts_target[2, ]

path <- extract_stream_path(clip_lines, point_1, point_2)
plot(sf::st_geometry(clip_lines))
plot(sf::st_geometry(path), col = "red", lwd = 2, add = TRUE)
}

}
